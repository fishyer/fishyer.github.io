## 参考资料
	- 我想用yt-dlp下载youtube上面的36000000个视频，需要注意哪些问题？如何解决这些问题？
		- https://www.wenxiaobai.com/share/chat/453fa5fe-7af3-4fce-952b-ab4bee7d8961
	-
- ## 技术难点
	- 1-ip池
		- 单个IP持续下载超过500个视频/天时，就容易被封禁。
			- 3600/500=7.2s/个
			- 3600/40=90个/s
		- 一个ip一天大概可以处理1万条
		- [[ip代理池]]
	- 2-账号池
		- YouTube会频繁轮换Cookie（平均每6小时失效）
			- [[gmail账号池]]
	- 3-下载速度
		- 分布式下载，多线路并行，需自行开发调度系统
		- 宿主机带宽 20M/s
		- 开10个节点，下载速度可以提升10倍
	- 4-存储空间
		-
	- 5-错误重试
		-
- ## 参数说明
	- yt-dlp
	- .\yt-dlp.exe
	- --cookies-from-browser chrome:"C:\Users\v-yutianran\AppData\Local\Google\Chrome\User Data\Default"
	- --cookies cookies.txt
	- --netrc '~/.netrc'
	- -F 查看支持下载的格式
	- '-f', 'bestvideo+bestaudio/best',  # 选择视频和音频格式
	- --limit-rate 用于限制下载速度。--limit-rate 500K
	- --sleep-interval 用于指定每次下载之间的延迟。--sleep-interval 5
	- --proxy [http://PROXY_ADDRESS:PORT](http://proxy_address:PORT/) 使用代理服务器
	- -P 输出目录
	- -o 输出文件名
	- -i 忽略错误继续下载
	- --merge-output-format mp4 合并输出格式为mp4
	- '--external-downloader', 'aria2c',  # 使用aria2c加速下载
	- '--external-downloader-args', '-x 16',  # 设置aria2c线程数
	- '--download-sections', f'*{start_time}-{end_time}',  # 下载指定时间段
- 使用案例
	- yt-dlp -F [https://www.youtube.com/watch?v=lwAFSttEqno](https://www.youtube.com/watch?v=lwAFSttEqno)
	- curl -v -x [socks5h://10.0.8.4:7777](socks5h://10.0.8.4:7777) [ip.fm](http://ip.fm/)
- 下载源
	- curl -X GET ["https://datasets-server.huggingface.co/rows?dataset=Koala-36M%2FKoala-36M-v1&config=default&split=train&offset=0&length=100"](https://datasets-server.huggingface.co/rows?dataset=Koala-36M%2FKoala-36M-v1&config=default&split=train&offset=0&length=100)
- ## 测试笔记
- yt-dlp --proxy "https://127.0.0.1:7890" --cookies "./static/cookies/marj-0435.txt" -f "bestvideo+bestaudio/best" --download-sections "*0:01:08.943-0:01:18.787" --merge-output-format "mp4" -P "static/download/Koala_36M_1-001/[0-4]/2025-02-23_04-37-10_561" -o "qqcXkzu7w2M_9_0-01-08.943-0-01-18.787.mp4" --download-archive "./static/archive/success_Koala_36M_1-001.txt" "https://www.youtube.com/watch?v=qqcXkzu7w2M"
-
-
- yt-dlp -F --proxy "http://127.0.0.1:7890" --cookies "./static/cookies/marj-0435.txt" -f "bestvideo+bestaudio/best"  "https://www.youtube.com/watch?v=qqcXkzu7w2M"
- yt-dlp --proxy "http://127.0.0.1:7890" --cookies "./static/cookies/marj-0435.txt" -f "bestvideo+bestaudio/best"  "https://www.youtube.com/watch?v=qqcXkzu7w2M"
- yt-dlp --proxy "http://127.0.0.1:7890" --cookies "./static/cookies/marj-0435.txt" -f "bestvideo+bestaudio/best" --download-sections "*0:01:08.943-0:01:18.787" --merge-output-format "mp4" -P "static/download/Koala_36M_1-001/[0-4]/2025-02-23_04-37-10_561" -o "qqcXkzu7w2M_9_0-01-08.943-0-01-18.787.mp4" --download-archive "./static/archive/success_Koala_36M_1-001.txt" "https://www.youtube.com/watch?v=qqcXkzu7w2M"